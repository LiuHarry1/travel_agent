# 测试步骤

## 1. 启动开发服务器

如果服务器没有运行，执行：
```bash
cd front_new
npm run dev
```

服务器应该会在 `http://localhost:5173` 启动

## 2. 测试滚动功能

### 测试场景 1：基本滚动
1. 打开浏览器，访问 `http://localhost:5173`
2. 发送第一条消息："hello"
3. **预期**：消息应该滚动到消息区域的顶部
4. 等待 agent 回复完成
5. **预期**：agent 回复会自然地将 "hello" 消息向上推

### 测试场景 2：多条消息
1. 发送第一条消息："hello"
2. 等待 agent 回复完成
3. 发送第二条消息："who are you"
4. **预期**：
   - "who are you" 应该滚动到顶部
   - "hello" 和它的 agent 回复应该被推上去（可能到不可见区域）
5. 等待第二条消息的 agent 回复
6. **预期**：agent 回复会继续将 "who are you" 向上推

### 测试场景 3：检查控制台
1. 打开浏览器开发者工具（F12）
2. 切换到 Console 标签
3. 发送消息
4. **预期**：应该看到滚动日志，显示：
   - targetScrollTop: 目标滚动位置
   - currentScroll: 当前滚动位置
   - distance: 距离容器顶部的距离
   - messageIndex: 消息索引

## 3. 如果滚动不工作

如果消息没有正确滚动到顶部，请检查：

1. **控制台错误**：查看是否有 JavaScript 错误
2. **滚动日志**：检查控制台中的滚动日志，确认计算是否正确
3. **DOM 结构**：检查消息元素是否正确渲染
4. **容器高度**：确保消息容器有足够的高度来滚动

## 4. 调试信息

代码中已经添加了 `console.log` 来帮助调试。如果滚动不工作，请查看控制台输出，并告诉我：
- targetScrollTop 的值
- currentScroll 的值
- distance 的值

这些信息可以帮助我进一步优化代码。


