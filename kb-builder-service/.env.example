# =============================================================================
# KB-Builder Service Environment Variables
# =============================================================================
# Copy this file to .env and configure the values according to your setup.
# This file documents all environment variables used by the kb-builder service.
#
# Note: Environment variables are case-insensitive in pydantic-settings.
# =============================================================================

# -----------------------------------------------------------------------------
# Milvus Vector Database Configuration
# -----------------------------------------------------------------------------
# Milvus connection settings for vector storage
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_USER=
MILVUS_PASSWORD=
MILVUS_DATABASE=default

# Default collection name for storing embeddings
DEFAULT_COLLECTION_NAME=knowledge_base

# -----------------------------------------------------------------------------
# Embedding Model Configuration
# -----------------------------------------------------------------------------
# Default embedding provider: qwen, openai, bge, bge-en, bge-zh, nemotron, nvidia, snowflake
DEFAULT_EMBEDDING_PROVIDER=openai

# Default embedding model name (varies by provider)
# - Qwen: text-embedding-v2, text-embedding-v1
# - OpenAI: text-embedding-3-small, text-embedding-3-large, text-embedding-ada-002
# - BGE: BAAI/bge-large-en-v1.5, BAAI/bge-base-en-v1.5, BAAI/bge-small-en-v1.5
#        BAAI/bge-large-zh-v1.5, BAAI/bge-base-zh-v1.5, BAAI/bge-small-zh-v1.5
# - Nemotron: nvidia/llama-nemotron-embed-1b-v2
# - Snowflake: Snowflake/snowflake-arctic-embed-l
DEFAULT_EMBEDDING_MODEL=text-embedding-3-small

# -----------------------------------------------------------------------------
# Qwen/DashScope API Configuration
# -----------------------------------------------------------------------------
# API key for Qwen embedding models (DashScope)
# You can use either DASHSCOPE_API_KEY or QWEN_API_KEY
DASHSCOPE_API_KEY=
QWEN_API_KEY=

# -----------------------------------------------------------------------------
# OpenAI API Configuration
# -----------------------------------------------------------------------------
# API key for OpenAI embedding models
OPENAI_API_KEY=

# Optional: Custom base URL for OpenAI-compatible APIs (e.g., proxy or custom endpoints)
# Default: https://api.openai.com/v1
OPENAI_BASE_URL=

# -----------------------------------------------------------------------------
# BGE Embedding Service API URLs
# -----------------------------------------------------------------------------
# General BGE API URL (used when provider is "bge")
# Example: http://localhost:8001
BGE_API_URL=

# English BGE API URL (used when provider is "bge-en")
# Example: http://10.150.115.110:6000
BGE_EN_API_URL=

# Chinese BGE API URL (used when provider is "bge-zh")
# Example: http://10.150.115.110:6001
BGE_ZH_API_URL=

# -----------------------------------------------------------------------------
# NVIDIA Nemotron Embedding Service API URL
# -----------------------------------------------------------------------------
# Full API endpoint URL for NVIDIA Nemotron embedding service
# Used when provider is "nemotron" or "nvidia"
# Example: http://10.150.115.110:6002/embed
NEMOTRON_API_URL=

# -----------------------------------------------------------------------------
# Snowflake Arctic Embedding Service API URL
# -----------------------------------------------------------------------------
# Full API endpoint URL for Snowflake Arctic embedding service
# Used when provider is "snowflake"
# Example: http://10.150.115.110:6003/embed
SNOWFLAKE_API_URL=

# -----------------------------------------------------------------------------
# Chunking Configuration
# -----------------------------------------------------------------------------
# Default chunk size (characters per chunk)
DEFAULT_CHUNK_SIZE=1000

# Default chunk overlap (overlapping characters between chunks)
DEFAULT_CHUNK_OVERLAP=200

# -----------------------------------------------------------------------------
# Static Files Configuration
# -----------------------------------------------------------------------------
# Directory for storing source files and images
STATIC_DIR=static

# Base URL for static files (optional)
# If empty, uses relative paths
# Example: http://localhost:8001
STATIC_BASE_URL=

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# CORS allowed origins (comma-separated)
# Default: * (allows all origins)
# Example: http://localhost:3000,http://localhost:5173
CORS_ORIGINS=*

# =============================================================================
# Notes:
# =============================================================================
# 1. For Qwen embeddings, you need to set either DASHSCOPE_API_KEY or QWEN_API_KEY
# 2. For OpenAI embeddings, you need to set OPENAI_API_KEY
# 3. For BGE embeddings, you need to set the appropriate BGE_API_URL based on your provider:
#    - bge: Use BGE_API_URL
#    - bge-en: Use BGE_EN_API_URL
#    - bge-zh: Use BGE_ZH_API_URL
# 4. For Nemotron/NVIDIA embeddings, set NEMOTRON_API_URL
# 5. For Snowflake embeddings, set SNOWFLAKE_API_URL
# 6. All API URLs should include the protocol (http:// or https://)
# 7. Leave empty values for optional settings that you don't need
# =============================================================================

# -----------------------------------------------------------------------------
# Embedding API Timeout Configuration
# -----------------------------------------------------------------------------
# Timeout for embedding API requests (in seconds)
# Default: 300 seconds (5 minutes) - increase for large files or slow networks
# For very large files, you may need to increase this value (e.g., 600 for 10 minutes)
EMBEDDING_TIMEOUT=300
